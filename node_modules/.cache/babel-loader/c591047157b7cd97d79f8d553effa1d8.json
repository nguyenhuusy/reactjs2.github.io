{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Desktop/FrontEnd/reactjs2.github.io/src/components/StudentForm/StudentForm.jsx\";\nimport React, { Component } from 'react';\nimport TextInput from '../Forms/TextInput';\nimport { getDataFromLocalStorage, saveDataToLocalStorage } from '../../utils/common';\nimport validator from '../../validations/studentForm';\nimport './StudentForm.scss';\n\nclass StudentForm extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      const data = this.state.data;\n      data[e.target.name] = e.target.value;\n      this.setState({\n        data\n      });\n    };\n\n    this.insertStudent = () => {\n      const _validator = validator(this.state.data),\n            isValid = _validator.isValid,\n            errors = _validator.errors;\n\n      if (!isValid) {\n        return this.setState({\n          errors\n        });\n      }\n\n      const _this$props = this.props,\n            students = _this$props.students,\n            updateStudentList = _this$props.updateStudentList;\n      const data = getDataFromLocalStorage('students') || students;\n      const updatedData = [...data, this.state.data];\n      saveDataToLocalStorage('students', updatedData);\n      updateStudentList(updatedData);\n      this.setState({\n        errors: {},\n        data: {}\n      });\n    };\n\n    this.state = {\n      data: {\n        name: '',\n        gender: '',\n        math: '',\n        english: ''\n      },\n      errors: {}\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          errors = _this$state.errors,\n          _this$state$data = _this$state.data,\n          name = _this$state$data.name,\n          gender = _this$state$data.gender,\n          math = _this$state$data.math,\n          english = _this$state$data.english;\n    return React.createElement(\"div\", {\n      className: \"student-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Student form\"), React.createElement(\"div\", {\n      className: \"student-form-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(TextInput, {\n      name: \"name\",\n      label: \"Student Name\",\n      value: name,\n      onChange: this.handleChange,\n      error: errors.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }), React.createElement(TextInput, {\n      name: \"gender\",\n      label: \"Gender\",\n      value: gender,\n      onChange: e => this.handleChange(e),\n      error: errors.gender,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(TextInput, {\n      name: \"math\",\n      label: \"Math\",\n      value: math,\n      onChange: this.handleChange,\n      error: errors.math,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(TextInput, {\n      name: \"english\",\n      label: \"English\",\n      value: english,\n      onChange: this.handleChange,\n      error: errors.english,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button\",\n      onClick: this.insertStudent,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Insert Student\")));\n  }\n\n}\n\nexport default StudentForm;","map":{"version":3,"sources":["/Users/apple/Desktop/FrontEnd/reactjs2.github.io/src/components/StudentForm/StudentForm.jsx"],"names":["React","Component","TextInput","getDataFromLocalStorage","saveDataToLocalStorage","validator","StudentForm","constructor","handleChange","e","data","state","target","name","value","setState","insertStudent","isValid","errors","props","students","updateStudentList","updatedData","gender","math","english","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TextInput from '../Forms/TextInput';\nimport { getDataFromLocalStorage, saveDataToLocalStorage } from '../../utils/common';\nimport validator from '../../validations/studentForm';\nimport './StudentForm.scss';\n\nclass StudentForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: {\n        name: '',\n        gender: '',\n        math: '',\n        english: ''\n      },\n      errors: {}\n    }\n  }\n\n  handleChange = e => {\n    const { data } = this.state;\n    data[e.target.name] = e.target.value;\n    this.setState({ data });\n  }\n\n  insertStudent = () => {\n    const { isValid, errors } = validator(this.state.data);\n\n    if (!isValid) {\n      return this.setState({ errors });\n    }\n\n    const { students, updateStudentList } = this.props;\n    const data = getDataFromLocalStorage('students') || students;\n    const updatedData = [ ...data, this.state.data ];\n    saveDataToLocalStorage('students', updatedData);\n    updateStudentList(updatedData);\n    this.setState({ errors: {}, data: {} });\n  }\n\n  render() {\n    const { errors, data: { name, gender, math, english } } = this.state;\n\n    return (\n      <div className=\"student-form\">\n        <h2>Student form</h2>\n        <div className=\"student-form-content\">\n          <TextInput name=\"name\" label=\"Student Name\" value={ name } onChange={ this.handleChange } error={ errors.name } />\n          <TextInput name=\"gender\" label=\"Gender\" value={ gender } onChange={ e => this.handleChange(e) } error={ errors.gender } />\n          <TextInput name=\"math\" label=\"Math\" value={ math } onChange={ this.handleChange }  error={ errors.math } />\n          <TextInput name=\"english\" label=\"English\" value={ english } onChange={ this.handleChange }  error={ errors.english } />\n          <button className=\"button\" onClick={ this.insertStudent }>Insert Student</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default StudentForm;"]},"metadata":{},"sourceType":"module"}